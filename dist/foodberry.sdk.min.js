!function e(t,n,r){function i(a,u){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!u&&c)return c(a,!0);if(o)return o(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("./enums");t.exports=function(){function e(){r(this,e)}return i(e,[{key:"renderCardShell",value:function(e,t){var n=document.createElement("div");n.className="foodberry-card nutrition-card";var r=document.createElement("div");r.className="card-title",r.innerHTML="Nutritional Details";var i=document.createElement("div");i.className="credit",i.innerHTML='Provided by <a href="http://foodberry.com">Foodberry.com</a>',e="string"==typeof e?document.querySelector(e):e,e&&(e.appendChild(n),n.appendChild(r),t.then(function(e){var t=document.createElement("ul");t.className="nutrients";for(var r in e){var a=e[r],u=document.createElement("li"),c=o.nutrientsEnum[r]?o.nutrientsEnum[r].displayName:r,s=o.nutrientsEnum[r]?o.nutrientsEnum[r].unitOfMeasure:"";u.innerHTML='<span class="nutrient-name">'+c+'</span><span class="nutrient-value">'+a+" ("+s+")</span>",t.append(u)}n.appendChild(t),n.appendChild(i);var l=document.createElement("div");l.className="testing",l.innerHTML='<a href="https://foodapis.azurewebsites.net/portal/recipe-cards/nutrition/'+e._id+'">edit</a>'}))}}]),e}()},{"./enums":4}],2:[function(e,t,n){"use strict";t.exports={API_BASE_URL:"https://foodapis.azurewebsites.net"}},{}],3:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("./nutritionCard"),a=function(){function e(){var t=this;r(this,e),document.addEventListener("DOMContentLoaded",function(e){t.init()})}return i(e,[{key:"init",value:function(e){var t=this,n=this.getCardElements();Array.from(n).forEach(function(e){t.initCard(e)})}},{key:"getCardElements",value:function(){var e=document.getElementsByTagName("recipe-card");return e}},{key:"initCard",value:function(e){var t=e.getAttribute("data-type"),n=e.dataset;switch(t){case"nutrition":e._card=new o(e,n);default:return}}}]),e}();t.exports=new a},{"./nutritionCard":6}],4:[function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i;t.exports={nutrientsEnum:(i={protein:{unitOfMeasure:"g",displayName:"Protein"},totalFat:{unitOfMeasure:"g",displayName:"Fat"},calories:{unitOfMeasure:"cal",displayName:"Calories"}},r(i,"protein",{unitOfMeasure:"g",displayName:"Protein"}),r(i,"carbohydrate",{unitOfMeasure:"g",displayName:"Carbohydrates"}),r(i,"fiber",{unitOfMeasure:"g",displayName:"Fiber"}),r(i,"sugars",{unitOfMeasure:"g",displayName:"Sugar"}),r(i,"sodium",{unitOfMeasure:"mg",displayName:"Sodium"}),r(i,"cholesterol",{unitOfMeasure:"mg",displayName:"Cholesterol"}),i)}},{}],5:[function(e,t,n){"use strict";var r=e("./nutritionCard"),i=e("./core"),o={Core:i,NutritionCard:r};window.Foodberry=window.Foodberry||{},window.Foodberry.SDK=o,t.exports=o},{"./core":3,"./nutritionCard":6}],6:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("./config"),c=e("./card");t.exports=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),a=n.url||location.href,u=o.getNutritionSummary({url:a});return o.renderCardShell(e,u),o}return o(t,e),a(t,[{key:"getNutritionSummary",value:function(e){return this.api("nutrition/summary",e)}},{key:"getCalorieCount",value:function(e){return this.api("nutrition/calories",e)}},{key:"api",value:function(e,t){var n=u.API_BASE_URL,r=this.convertDictionaryToQueryString(t),i=n+"/"+e+r;return new Promise(function(e,t){var n=new XMLHttpRequest;n.open("GET",i),n.setRequestHeader("Content-Type","application/json"),n.onload=function(){200==n.status?e(JSON.parse(n.response).data):t(Error(n.statusText))},n.onerror=function(){t(Error("Network Error"))},n.send()})}},{key:"convertDictionaryToQueryString",value:function(e){return"?"+Object.keys(e).map(function(t){return t+"="+e[t]}).join("&")}}]),t}(c)},{"./card":1,"./config":2}]},{},[5]);
//# sourceMappingURL=foodberry.sdk.min.js.map
